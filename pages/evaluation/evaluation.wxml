<view class="container">
  <view class="search-bar">
    <input class="search-input" bindinput="onInputChange" placeholder="请输入你想搜索的内容" />
  </view>

  <view class="list">
    <view class="filter-bar">
      <picker bindchange="onTagChange" mode="selector" range="{{tags}}" value="{{selectedTagIndex}}">
        <view class="filter-item">
          <image src="/pics/list.svg" class="arrow-icon" />
          {{selectedTag}}
          <image src="/pics/down.svg" class="down" />
        </view>

      </picker>
    </view>
    <block wx:for="{{searchResult}}" wx:key="_id">
      <view class="item" bindtap="openFloatWindow" data-item="{{item}}">
        <view class="title">{{item.title}}</view>
        <view class="num">{{item.item_num}}道题</view>
        <view class="tag-line">
          <view class="tag {{ 'tag-' + item }}" wx:for="{{ item.tag }}" wx:key="index" style="background-color: {{ backgroundColorMap[item] }}">
            {{ item }}
          </view>
        </view>
      </view>
    </block>
  </view>
  <view wx:if="{{noResultMessage}}" class="no-result-message">{{noResultMessage}}</view>
</view>

<view wx:if="{{showFloatWindow}}" class="float-mask" bindtap="closeFloatWindow"></view>
<cover-view class="float-window" wx:if="{{ showFloatWindow }}">
  <cover-view class="title">{{ floatWindowItem.title }}</cover-view>
  <cover-view class="line"></cover-view>
  <cover-view class="description">
    <block wx:for="{{ floatWindowItem.description }}" wx:key="index">{{ item }}
  
    </block>
  </cover-view>
  <cover-view class="item-num">- 题目数：{{ floatWindowItem.item_num }}题</cover-view>
</cover-view>